/**
 * {#
vim: ft=cpp
#}@file
 *
 * {{ disclaimer }}
 *
 * SPDX-License-Identifier: {{ spdx_license }}
 */

#include <functional>
#include <optional>
#include <string>

#include "decode.hpp"
#include "objectset.hpp"

/* {{ "*" + "/" }}
{%- if namespace %}
{%- for n in namespace.split("::") %}
namespace {{ n }} {
{%- endfor %}
{%- endif %}
{{ "/" + "*" }} */

using std::string_literals::operator""s;

// DecoderState
DecoderState::DecoderState(SHACLObjectSet *objectSet) : mObjectSet(objectSet) {}
DecoderState::~DecoderState() {}

std::string DecoderState::expandIRI(std::string const &iri) const {
  if (!mObjectSet) {
    return iri;
  }
  return mObjectSet->expandIRI(iri);
}

std::string DecoderState::compactIRI(std::string const &iri) const {
  if (!mObjectSet) {
    return iri;
  }
  return mObjectSet->compactIRI(iri);
}

// ElementDecoder
ElementDecoder::ElementDecoder(DecoderState &state) : mState(state) {}
ElementDecoder::~ElementDecoder() {}

// ValueDecoder
ValueDecoder::ValueDecoder(DecoderState &state) : ElementDecoder(state) {}
ValueDecoder::~ValueDecoder() {}

// ObjectDecoder
ObjectDecoder::ObjectDecoder(DecoderState &state) : ElementDecoder(state) {}
ObjectDecoder::~ObjectDecoder() {}

// ListDecoder
ListDecoder::ListDecoder(DecoderState &state) : ElementDecoder(state) {}
ListDecoder::~ListDecoder() {}

/* {{ "*" + "/" }}
{%- if namespace %}
{%- for n in namespace.split("::") %}
}
{%- endfor %}
{%- endif %}
{{ "/" + "*" }} */
